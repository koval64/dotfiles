#!/bin/bash

# run AppImage application in the same directory as this script
#
# usage :
# $ apprun application_name
#
# desktop entry add to directory:
#
# ~/.local/share/applications/appname.desktop
#

# exit if no application name given
if [ $# -ne 1 ]; then
    echo "application name please..."
    exit 0
fi

DIR="$HOME/.local/bin"

# search first file in $DIR directory that starts with given name
FILENAME=$(find . -type f -iname "$1*" | cut -c 3- | grep -v ^"$1"$)
FILEPATH="$DIR/$FILENAME"

if [ ! -f $FILEPATH ]; then

    echo "File not found! :  $FILEPATH"
    # notify-send "File not found!" "$FILEPATH" -t 2500

else

    pushd $DIR
    # notify-send "Running" "$FILEPATH" -t 2500
    ./"$FILENAME" "$@"
    popd

fi


